<!DOCTYPE html>
<html lang="en">
<head>
<title>ห้องเรียนครูน้ำค้าง</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


</head>
<body>
  
  

<section>
  {% include 'header.html' %}
  <nav>
<div class="topnav" id="myTopnav">
  <a href="{{ url_for('home',menu='first',nav='หน้าแรก') }}" class="active"> หน้าแรก</a>
  <div class="dropdown">
    <button class="dropbtn">เกี่ยวกับรายวิชา
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
            <a href="{{ url_for('showMainMenu',menu='description',nav='คำอธิบายรายวิชา') }}">คำอธิบายรายวิชา</a>
            <a href="{{ url_for('showMainMenu',menu='unit',nav='หน่วยการเรียนรู้') }}">หน่วยการเรียนรู้</a>
    </div>
  </div>
    <div class="dropdown">
    <button class="dropbtn">บทเรียน
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
            <a href="{{ url_for('showTemplate', lesson_name='แบบทดสอบก่อนเรียน', lesson_id='Pre') }}">แบบทดสอบก่อนเรียน</a>
            <a href="{{ url_for('showTemplate', lesson_name='บทที่ 1 รู้จักกับ CANVA',lesson_id='L1',subLesson='ข้อมูลทั่วไปของ CANVA') }}">บทที่ 1 รู้จักกับ CANVA</a>
            <a href="{{ url_for('showTemplate', lesson_name='บทที่ 2 ก้าวแรกสู่การออกแบบ', lesson_id='L1') }}">บทที่ 2 ก้าวแรกสู่การออกแบบ</a>
            <a href="{{ url_for('showTemplate', lesson_name='บทที่ 3 สื่อสร้างสรรค์ด้วยพลัง AI', lesson_id='L1') }}">บทที่ 3 สื่อสร้างสรรค์ด้วยพลัง AI</a>
            <a href="{{ url_for('showTemplate', lesson_name='แบบทดสอบหลังเรียน', lesson_id='Post') }}">แบบทดสอบหลังเรียน</a>
    </div>
  </div>
  <a href="{{ url_for('certificate',nav='ดาวโหลดเกียรติบัตร' )}}">ดาวน์โหลดเกียรติบัตร</a>
  <div class="dropdown">
    <button class="dropbtn">แหล่งเรียนรู้เพิ่มเติม
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
              <a href="{{ url_for('home') }}">แหล่งเรียนรู้ 1</a>
              <a href="{{ url_for('home') }}">แหล่งเรียนรู้ 2</a>
              <a href="{{ url_for('home') }}">แหล่งเรียนรู้ 3</a>
    </div>
  </div>
    <a href="{{ url_for('showMainMenu',menu='showProfile',nav='ผู้จัดทำ') }}">ผู้จัดทำ</a>




  

          {% if session.get('user_data', {}).get('user_status') == 'teacher' %}
          
  <div class="dropdown">
    <button class="dropbtn">Admin
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
            <a href="{{ url_for('showTemplateAdmin',menu_admin='pre-post') }}">เพิ่ม Pre-Post test</a>
            <a href="{{ url_for('showTemplateAdmin',menu_admin='test') }}">เพิ่มแบบทดสอบประจำบท</a>
            
            <a href="{{ url_for('showTemplateAdmin', menu_admin='VideoAct') }}">เพิ่มกิจกรรมและVideo</a>
            <a href="{{ url_for('showTemplateAdmin', menu_admin='VideoAct') }}">กรอก-แก้ไขคะแนนกิจกรรม</a>
            <a href="{{ url_for('showTemplateAdmin', menu_admin='VideoAct') }}">เรียกดูคะแนน</a>
            <a href="{{ url_for('showTemplateAdmin', menu_admin='subLesson') }}">เพิ่มหัวข้อย่อยของบทเรียน</a>

          </div>
  </div>
          

          {% endif %}
   <a href="javascript:void(0);" class="icon" onclick="myFunction()">&#9776;</a>
</div> 


  </nav>
  
  <!-- เส้นทาง (Breadcrumb) แสดงด้านล่าง nav -->
  <div class="breadcrumb">
    <span>กำลังอยู่ที่ : </span>
    {% if nav %}
    <span>{{ nav }}</span>
    {% endif %}
    {% if lesson_name %}
    <span>{{ lesson_name }}</span>
    {% endif %}
    {% if subLesson %}
    <span>{{ subLesson }}</span>
    {% endif %}
  </div>

  <article>
    {% if show_register %}
      {% include 'register.html' %} <!-- แสดงฟอร์มสมัครสมาชิก หาก show_register เป็น True -->
    {% endif %}

    {% if lesson_name%}
      {% include 'Lesson1.html' %}
    {% endif %}

    {% if nav=='ดาวโหลดเกียรติบัตร' %}
      {% include 'certificate.html' %}
    {% endif %}
    

    {% if menu %}
      {%if menu=='showProfile'%}
        {% include 'profile.html' %}
      {%endif%}
      {%if menu=='description'%}
        {% include 'description.html' %}
      {%endif%}
      {%if menu=='unit'%}
        {% include 'unit.html' %}
      {%endif%}
      {% if menu == 'first'%}
        <!-- Include ไฟล์ หรือแสดงข้อความ -->
          {% include 'first.html' %}
      {% endif %}

  {% endif %}

    </article>
 
  <menu>
 
    {% if session.get('user_data') %}
     <div class="right_menu">
  <a href="{{ url_for('logout') }}" style="color:rgb(90, 28, 28); ">ออกจากระบบ Log out</a>
  </div>

    <div class="progress-container">
      <div class="progress-status">
          ความคืบหน้าการเรียน: {{ session['user_data']['progress_status'] }}%
      </div>
      <div class="progress-bar">
          <div id="progress-bar-fill"></div>
      </div>
  </div>
  {% endif %}
    {% include 'login.html' %}
    {% if lesson_name %}
    <div class="sidebar">
      <h2>หัวข้อการเรียน</h2>
      <div class="lesson">{{lesson_name}}
        <div class="sub-lessons">
          {% for menu_lesson in menu %}
          <div>
            <a href="{{ url_for('showTemplate', lesson_name=lesson_name, lesson_id=menu_lesson.lesson_id, subLesson=menu_lesson.subLesson) }}">
              {{ menu_lesson.subLesson }}
            </a>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
    {% endif %}
    {% include 'right_menu.html' %}
   



  </menu>

</section>

<script>

  function myFunction() {
  var x = document.getElementById("myTopnav");
  if (x.className === "topnav") {
    x.className += " responsive";
  } else {
    x.className = "topnav";
  }
}
  // JavaScript to change the progress bar width and color
  document.addEventListener("DOMContentLoaded", function() {
      // Initialize the variable with a default value of 0
      var progressStatus = "{{ session.get('user_data')['progress_status'] | default(0) | tojson }}";
      
      // Convert progressStatus to an integer
      progressStatus = parseInt(progressStatus) || 0; // Ensure it defaults to 0 if NaN

      var progressBarFill = document.getElementById("progress-bar-fill");
      
      // Set the width of the progress bar based on the progress status
      progressBarFill.style.width = progressStatus + "%";
      
      // Change the color based on the progress value
      if (progressStatus >= 75) {
          progressBarFill.style.backgroundColor = "#4CAF50"; // Green
      } else if (progressStatus >= 50) {
          progressBarFill.style.backgroundColor = "#FFEB3B"; // Yellow
      } else if (progressStatus >= 25) {
          progressBarFill.style.backgroundColor = "#FF9800"; // Orange
      } else {
          progressBarFill.style.backgroundColor = "#F44336"; // Red
      }
  });


    
</script>






<footer>
  <p>Footer</p>
</footer>

</body>
</html>

